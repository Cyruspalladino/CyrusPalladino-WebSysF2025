<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Search Page</title>
  <link rel="stylesheet" href="./Resources/CSS/frame.css">
  <link rel="stylesheet" href="./Resources/CSS/results.css">
</head>
<body>
  <div class="topnav">
    <img class="logo" src="./Resources/Images/logo.png" alt="Logo">
    <div class="nav-links">
      <a href="./index.html">Home</a>
      <a href="./about.html">About</a>
      <a href="#settings">Settings</a>
    </div>
  </div>

  <div class="search-tags">
    <span class="tag">Tag1</span>
    <span class="tag">Tag2</span>
    <span class="tag">Tag3</span>
    <button id="add-search">+</button>
  </div>

  <div class="separator"></div>

  <div class="location-tags">
    <span class="tag">Location1</span>
    <span class="tag">Location2</span>
    <button id="add-location">+</button>
  </div>

  <div class="date-range-container">
    <div class="input-row">
      <label for="from-input">From</label>
      <input type="text" id="from-input"/>
      <label for="to-input">to</label>
      <input type="text" id="to-input"/>
    </div>
  </div>

  <div class="graphs">
    <div class="graph-container">
      <div class="graph-placeholder">Graph 1</div>
      <button class="enlarge">Enlarge</button>
    </div>
    <div class="graph-container">
      <div class="graph-placeholder">Graph 2</div>
      <button class="enlarge">Enlarge</button>
    </div>
  </div>

  <div class="download">Download Data</div>

  <footer>Data provided by Google Search Trends</footer>

  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script>
$(document).ready(function() {
  // Read the query parameters
  const urlParams = new URLSearchParams(window.location.search);
  const terms = urlParams.get('terms')?.split(',') || [];
  const locations = urlParams.get('locations')?.split(',') || [];

  // Debug output
  console.log('Terms:', terms);
  console.log('Locations:', locations);

  // Display the tags in the page
  const $searchTagsContainer = $('.search-tags');
  $searchTagsContainer.empty(); // Clear any placeholder tags

  terms.forEach(term => {
    $searchTagsContainer.append($('<span class="tag"></span>').text(term));
  });
  $searchTagsContainer.append('<button id="add-search">+</button>');

  const $locationTagsContainer = $('.location-tags');
  $locationTagsContainer.empty(); // Clear placeholder tags

  locations.forEach(location => {
    $locationTagsContainer.append($('<span class="tag"></span>').text(location));
  });
  $locationTagsContainer.append('<button id="add-location">+</button>');
});
</script>

</body>
</html>
